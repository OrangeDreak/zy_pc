import{_ as N}from"./logo-9lYzFWJC.js";import{V,v as w,r as _,W as $,_ as b,N as y,c as B,b as T,d as s,e,t as l,w as o,f as d,h as i,i as v,j as c,u as A}from"./index-CAD5YEHZ.js";import{u as H}from"./auth-BVoTKOlD.js";const R=V("lang",()=>{const p=w(),a=_(localStorage.getItem("lang")||"zh");return $(a,n=>{localStorage.setItem("lang",n),p.locale.value=n}),{currentLang:a,setLang:n=>{a.value=n}}}),j={class:"border-bottom"},D={class:"common-header"},W={class:"header-right"},q={class:"nav-items"},F={class:"user-info"},G={class:"username"},J={class:"lang-switch"},K={__name:"CommonHeader",setup(p){const a=A(),m=H(),n=R(),{currentLang:C}=y(n),{locale:S}=w();_("");const L=_("https://placeholder.com/32"),E=t=>{t==="logout"?(m.logout(),a.push("/login")):t==="profile"&&a.push("/profile")},I=async()=>{a.push("/estimate")},k=async()=>{a.push("/add-transfer")},x=t=>{n.setLang(t),S.value=t};return(t,r)=>{const z=d("el-avatar"),h=d("el-icon"),u=d("el-dropdown-item"),f=d("el-dropdown-menu"),g=d("el-dropdown");return T(),B("div",j,[s("div",D,[r[2]||(r[2]=s("div",{class:"header-left"},[s("div",{class:"logo"},[s("img",{src:N,height:"60px"})])],-1)),s("div",W,[s("div",q,[s("div",{class:"nav-item text-cursor",onClick:I},l(t.$t("header.nav.freightEstimate")),1),s("div",{class:"nav-item text-cursor",onClick:k},l(t.$t("header.nav.transfer")),1)]),e(g,{onCommand:E},{dropdown:o(()=>[e(f,null,{default:o(()=>[e(u,{command:"profile"},{default:o(()=>[c(l(t.$t("header.user.profile")),1)]),_:1}),e(u,{command:"logout"},{default:o(()=>[c(l(t.$t("header.user.logout")),1)]),_:1})]),_:1})]),default:o(()=>[s("span",F,[e(z,{size:32,src:L.value},null,8,["src"]),s("span",G,l(i(m).userInfo.username),1),e(h,null,{default:o(()=>[e(i(v))]),_:1})])]),_:1}),e(g,{onCommand:x},{dropdown:o(()=>[e(f,null,{default:o(()=>[e(u,{command:"zh"},{default:o(()=>r[0]||(r[0]=[c("中文")])),_:1}),e(u,{command:"en"},{default:o(()=>r[1]||(r[1]=[c("English")])),_:1})]),_:1})]),default:o(()=>[s("span",J,[c(l(i(C)==="zh"?"中文":"English")+" ",1),e(h,null,{default:o(()=>[e(i(v))]),_:1})])]),_:1})])])])}}},Q=b(K,[["__scopeId","data-v-c715a563"]]);export{Q as C,R as u};
