import{_ as S}from"./logo-9lYzFWJC.js";import{_ as C,r,o as L,a as T,c as U,b as B,d as a,t as D,e as t,w as o,f as s,g as E,u as I,h as M,i as R,j as g,E as q}from"./index-CAD5YEHZ.js";import{a as $}from"./auth-BIYyEZuF.js";import{u as j}from"./auth-BVoTKOlD.js";import"./request-Ci6vZ18k.js";const z={class:"login-container"},A={class:"login-header"},F={class:"time"},G={class:"lang-switch"},H={class:"login-content"},J={class:"login-right"},K={class:"form-options"},O={__name:"Login",setup(P){const _=I(),b=j(),d=r(null),u=r(!1),m=r(""),l=r({loginName:"",password:""}),w={loginName:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},p=()=>{const i=new Date;m.value=i.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-")};let c=null;L(()=>{p(),c=setInterval(p,1e3)}),T(()=>{c&&clearInterval(c)});const y=async()=>{d.value&&await d.value.validate(async i=>{if(i){u.value=!0;try{const e=await $.login(l.value);console.log("登录成功:",e),b.setToken(e.data.token),q.success("登录成功"),_.push("/")}catch(e){console.error("登录失败:",e)}finally{u.value=!1}}})};return(i,e)=>{const h=s("el-icon"),f=s("el-input"),v=s("el-form-item"),k=s("el-link"),N=s("el-button"),V=s("el-form"),x=s("el-card");return B(),U("div",z,[a("div",A,[a("div",F,D(m.value),1),a("div",G,[e[3]||(e[3]=a("span",null,"中文/USD",-1)),t(h,null,{default:o(()=>[t(M(R))]),_:1})])]),a("div",H,[e[8]||(e[8]=E('<div class="login-left" data-v-2545b924><div class="logo" data-v-2545b924><img src="'+S+'" height="60px" data-v-2545b924></div><div class="slogan" data-v-2545b924><div class="slogan-text" data-v-2545b924>中国购物，递送全球</div><div class="features" data-v-2545b924><div class="feature-item" data-v-2545b924><div class="feature-title" data-v-2545b924>免费保险</div><div class="feature-desc" data-v-2545b924>保证您的资金安全</div></div><div class="feature-item" data-v-2545b924><div class="feature-title" data-v-2545b924>7*12客服</div><div class="feature-desc" data-v-2545b924>全球覆盖</div></div><div class="feature-item" data-v-2545b924><div class="feature-title" data-v-2545b924>100+航运公司</div><div class="feature-desc" data-v-2545b924>可靠的售后服务</div></div></div></div></div>',1)),a("div",J,[t(x,{class:"login-card"},{default:o(()=>[e[7]||(e[7]=a("h2",{class:"login-title"},"登录",-1)),t(V,{ref_key:"formRef",ref:d,model:l.value,rules:w},{default:o(()=>[t(v,{prop:"loginName"},{default:o(()=>[t(f,{modelValue:l.value.loginName,"onUpdate:modelValue":e[0]||(e[0]=n=>l.value.loginName=n),placeholder:"电子邮箱","prefix-icon":"Message"},null,8,["modelValue"])]),_:1}),t(v,{prop:"password"},{default:o(()=>[t(f,{modelValue:l.value.password,"onUpdate:modelValue":e[1]||(e[1]=n=>l.value.password=n),type:"password",placeholder:"密码","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),a("div",K,[e[5]||(e[5]=a("span",{class:"forgot-password"},"忘记密码?",-1)),t(k,{type:"primary",onClick:e[2]||(e[2]=n=>i.$router.push("/register"))},{default:o(()=>e[4]||(e[4]=[g("注册")])),_:1})]),t(v,null,{default:o(()=>[t(N,{type:"primary",class:"login-button",loading:u.value,onClick:y},{default:o(()=>e[6]||(e[6]=[g(" 登录 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])])])}}},ee=C(O,[["__scopeId","data-v-2545b924"]]);export{ee as default};
