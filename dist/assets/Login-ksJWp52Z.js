import{_ as b,r as d,v as L,x as S,d as T,o as q,e as l,f as o,q as s,w as a,i,u as B,g as f,E}from"./index-TAmHM2dm.js";import{a as I}from"./auth-CadXwtID.js";import{u as M}from"./currency-BJx3poTv.js";import{C as R}from"./CommonHeader-DHHs-inG.js";import"./request-tfwnRnxz.js";const U={class:"login-container"},D={class:"login-content"},z={class:"login-left"},A={class:"slogan"},F={class:"slogan-text"},H={class:"features"},P={class:"feature-item"},j={class:"feature-title"},G={class:"feature-desc"},J={class:"feature-item"},K={class:"feature-title"},O={class:"feature-desc"},Q={class:"feature-item"},W={class:"feature-title"},X={class:"feature-desc"},Y={class:"login-right"},Z={class:"login-title"},x={class:"form-options"},ee={__name:"Login",setup(oe){const v=B(),h=M(),u=d(null),c=d(!1),w=d(""),n=d({loginName:"",password:""}),$={loginName:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},m=()=>{const e=new Date;w.value=e.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-")};let g=null;L(()=>{m(),g=setInterval(m,1e3)}),S(()=>{g&&clearInterval(g)});const y=async()=>{u.value&&await u.value.validate(async e=>{if(e){c.value=!0;try{const t=await I.login(n.value);console.log("登录成功:",t),h.setToken(t.data.token),E.success("登陆成功"),v.push("/")}catch(t){console.error("登陆失败:",t)}finally{c.value=!1}}})};return(e,t)=>{const _=i("el-input"),p=i("el-form-item"),k=i("el-link"),N=i("el-button"),V=i("el-form"),C=i("el-card");return q(),T("div",U,[l(R),o("div",D,[o("div",z,[o("div",A,[o("div",F,s(e.$t("login.tip1")),1),o("div",H,[o("div",P,[o("div",j,s(e.$t("login.tip2")),1),o("div",G,s(e.$t("login.tip3")),1)]),o("div",J,[o("div",K,s(e.$t("login.tip4")),1),o("div",O,s(e.$t("login.tip5")),1)]),o("div",Q,[o("div",W,s(e.$t("login.tip6")),1),o("div",X,s(e.$t("login.tip7")),1)])])])]),o("div",Y,[l(C,{class:"login-card"},{default:a(()=>[o("h2",Z,s(e.$t("login.login")),1),l(V,{ref_key:"formRef",ref:u,model:n.value,rules:$},{default:a(()=>[l(p,{prop:"loginName"},{default:a(()=>[l(_,{modelValue:n.value.loginName,"onUpdate:modelValue":t[0]||(t[0]=r=>n.value.loginName=r),placeholder:e.$t("login.email"),"prefix-icon":"Message"},null,8,["modelValue","placeholder"])]),_:1}),l(p,{prop:"password"},{default:a(()=>[l(_,{modelValue:n.value.password,"onUpdate:modelValue":t[1]||(t[1]=r=>n.value.password=r),type:"password",placeholder:e.$t("login.password"),"prefix-icon":"Lock","show-password":""},null,8,["modelValue","placeholder"])]),_:1}),o("div",x,[o("span",{class:"forgot-password",onClick:t[2]||(t[2]=r=>e.$router.push("/forget"))},s(e.$t("login.forgotPassword")),1),l(k,{type:"primary",onClick:t[3]||(t[3]=r=>e.$router.push("/register"))},{default:a(()=>[f(s(e.$t("login.register")),1)]),_:1})]),l(p,null,{default:a(()=>[l(N,{type:"primary",class:"login-button",loading:c.value,onClick:y},{default:a(()=>[f(s(e.$t("login.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])])])}}},ie=b(ee,[["__scopeId","data-v-efcb0d2a"]]);export{ie as default};
