import{_ as R,r as c,C as W,L as X,n as Y,o as t,w as S,ac as j,d as n,f as o,e as L,F as i,j as y,i as _,g as T,q as r,K as O,y as q,M as A}from"./index-CfP2wwIO.js";import{r as z}from"./request-CL1ELcKn.js";const ee=h=>z({url:"/app/area/listByLevel",method:"get",params:h}),ae={class:"tab-bar"},le={class:"tab-con"},te={key:0,class:"country"},ne=["onClick"],oe={key:0,class:"country"},se={class:"left"},re=["onClick"],ue=["onClick"],ce={class:"icon-svg"},ie={key:1},ve={__name:"index",emits:["countryChange","selectThis"],setup(h,{expose:H,emit:V}){const f=c(!1),m=c("HOT"),F=[{label:"countryHot",value:"HOT"},{label:"ABC",value:"ABC"},{label:"DEF",value:"DEF"},{label:"GHI",value:"GHI"},{label:"JKL",value:"JKL"},{label:"MNO",value:"MNO"},{label:"PQR",value:"PQR"},{label:"STU",value:"STU"},{label:"VWX",value:"VWX"},{label:"YZ",value:"YZ"}],C=c(!0),d=c(void 0),v=c([]),p=c([]),U=c(""),$=V,E=async e=>{const l="_pdp_area",u=window.localStorage.getItem(l);if(u&&u.indexOf("[")===0){v.value=JSON.parse(u),p.value=[...v.value],B(e),K();return}const{data:s,success:w}=await ee({areaLevel:1});w&&s&&s.length&&(v.value=s,p.value=[...v.value],window.localStorage.setItem(l,JSON.stringify(s))),B(e),K()},D=(e,l)=>{if(e){const u=[];return l.forEach(s=>{(s.areaName.indexOf(e)>-1||s.areaEnName.toLowerCase().indexOf(e.toLowerCase())>-1)&&u.push(s)}),u}else return l},J=()=>{C.value=!0,f.value=!0},M=e=>{if(e===""){C.value=!0,d.value=void 0;return}C.value=!1,p.value=D(e,v.value)},N=e=>{d.value=e.id,f.value=!1,U.value=`${e.areaEnName} ${e.areaName}`,$("countryChange",e)},P=[{label:"USA 美国",value:243},{label:"Canada 加拿大",value:42},{label:"Australia 澳大利亚",value:15},{label:"United Kingdom 英国",value:241},{label:"New Zealand 新西兰",value:158},{label:"Japan 日本",value:111},{label:"France 法国",value:78},{label:"Singapore 新加坡",value:200},{label:"Italy 意大利",value:109},{label:"Germany 德国",value:85},{label:"Spain 西班牙",value:210},{label:"South Korea 韩国",value:208},{label:"Sweden 瑞典",value:217},{label:"Netherlands 荷兰",value:155},{label:"Switzerland 瑞士",value:218},{label:"Ireland 爱尔兰",value:107},{label:"Denmark 丹麦",value:64},{label:"Norway 挪威",value:166}],x=c([]),k=W({}),G=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],K=()=>{x.value=P.map(e=>({id:e.value,areaEnName:e.label.split(" ")[0],areaName:e.label.split(" ")[1]})),G.forEach(e=>{k[e]=[]}),v.value.forEach(e=>{Object.keys(k).some(l=>{if(l.indexOf(e.areaEnName.charAt(0))>-1)return k[l].push(e),!0})})},B=e=>{e&&v.value.some(l=>{if(e===l.id)return N(l),!0})};return X(()=>{E()}),H({openPopver:J,countrySearch:M,getAreaCode:E}),(e,l)=>{const u=_("a-tab-pane"),s=_("a-tabs"),w=_("svg-icon"),I=_("a-empty"),Z=_("a-popover");return t(),Y(Z,{visible:f.value,"onUpdate:visible":l[3]||(l[3]=a=>f.value=a),"get-popup-container":a=>a,"mouse-enter-delay":0,class:"country-select-popver",trigger:"click",placement:"bottom"},{content:S(()=>[C.value?(t(),n("div",{key:0,class:"country-box",onClick:l[1]||(l[1]=A(()=>{},["stop"]))},[l[5]||(l[5]=o("div",{class:"desc"},null,-1)),o("div",ae,[L(s,{activeKey:m.value,"onUpdate:activeKey":l[0]||(l[0]=a=>m.value=a)},{default:S(()=>[(t(),n(i,null,y(F,a=>L(u,{key:a.value},{tab:S(()=>[o("span",null,[["HOT"].includes(a.value)?(t(),n(i,{key:0},[T(r(e.$t("estimate."+a.label)),1)],64)):(t(),n(i,{key:1},[T(r(a.label),1)],64))])]),_:2},1024)),64))]),_:1},8,["activeKey"])]),o("div",le,[m.value==="HOT"?(t(),n("div",te,[l[4]||(l[4]=o("div",{class:"left"},null,-1)),o("ul",null,[(t(!0),n(i,null,y(x.value,a=>(t(),n("li",{key:a.id},[o("span",{class:O({active:a.id===d.value}),onClick:b=>N(a)},r(a.areaEnName)+" "+r(a.areaName),11,ne)]))),128))])])):(t(!0),n(i,{key:1},y(k,(a,b)=>(t(),n(i,{key:b},[m.value.indexOf(b)>-1&&a.length?(t(),n("div",oe,[o("div",se,r(b),1),o("ul",null,[(t(!0),n(i,null,y(a,(g,Q)=>(t(),n("li",{key:Q},[o("span",{class:O({active:g.id===d.value}),onClick:de=>N(g)},r(g.areaEnName)+" "+r(g.areaName),11,re)]))),128))])])):q("",!0)],64))),128))])])):(t(),n("div",{key:1,class:"count-list",onClick:l[2]||(l[2]=A(()=>{},["stop"]))},[p.value.length?(t(!0),n(i,{key:0},y(p.value,a=>(t(),n("div",{key:a.id,class:O(["selectOptions",a.id===d.value?"active":""]),onClick:b=>N(a)},[o("text",null,r(a.areaEnName)+" "+r(a.areaName),1),o("div",ce,[L(w,{class:"icon",name:"country-active"})])],10,ue))),128)):(t(),n("div",ie,[L(I,{class:"no-data no-data-empty"})]))]))]),default:S(()=>[j(e.$slots,"default",{},void 0,!0)]),_:3},8,["visible","get-popup-container"])}}},ye=R(ve,[["__scopeId","data-v-87702aac"]]);export{ye as S};
