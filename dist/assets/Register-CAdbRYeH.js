import{_ as T,r as p,v as M,x as q,d as B,o as D,e as l,f as o,q as i,w as s,i as u,u as I,g as m,E as c}from"./index-CfP2wwIO.js";import{a as w}from"./auth-DB0dB44Y.js";import{C as S}from"./CommonHeader-BLRhD036.js";import"./request-CL1ELcKn.js";import"./currency-Bb07pYST.js";const A={class:"register-container"},L={class:"register-content"},P={class:"register-left"},z={class:"slogan"},F={class:"slogan-text"},G={class:"features"},H={class:"feature-item"},Q={class:"feature-title"},j={class:"feature-desc"},J={class:"feature-item"},K={class:"feature-title"},O={class:"feature-desc"},W={class:"feature-item"},X={class:"feature-title"},Y={class:"feature-desc"},Z={class:"register-right"},x={class:"register-title"},ee={class:"login-link"},ae={__name:"Register",setup(le){const y=I(),g=p(null),f=p(!1),C=p(""),t=p({username:"",password:"",confirmPassword:"",inviteCode:"",agreement:!1}),V={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}],agreement:[{validator:(e,a,n)=>{a?n():n(new Error("请阅读并同意用户协议和隐私声明"))},trigger:"change"}]},_=()=>{const e=new Date;C.value=e.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-")};let v=null;M(()=>{_(),v=setInterval(_,1e3)}),q(()=>{v&&clearInterval(v)});const N=e=>{c.info("查看用户协议")},b=async()=>{try{const e=await w.sendEmailCode({email:t.value.email,emailScene:0});c.info("发送验证码成功，请查看邮箱")}catch{c.error("获取验证码失败")}},k=async()=>{g.value&&await g.value.validate(async e=>{if(e){f.value=!0;try{await w.register({firstName:t.value.firstName,lastName:t.value.lastName,email:t.value.email,password:t.value.password,emailCaptcha:t.value.emailCaptcha}),c.success("注册成功"),y.push("/login")}catch(a){console.error("注册失败:",a)}finally{f.value=!1}}})};return(e,a)=>{const n=u("el-input"),d=u("el-form-item"),h=u("el-button"),$=u("el-link"),U=u("el-checkbox"),E=u("el-form"),R=u("el-card");return D(),B("div",A,[l(S),o("div",L,[o("div",P,[o("div",z,[o("div",F,i(e.$t("login.tip1")),1),o("div",G,[o("div",H,[o("div",Q,i(e.$t("login.tip2")),1),o("div",j,i(e.$t("login.tip3")),1)]),o("div",J,[o("div",K,i(e.$t("login.tip4")),1),o("div",O,i(e.$t("login.tip5")),1)]),o("div",W,[o("div",X,i(e.$t("login.tip6")),1),o("div",Y,i(e.$t("login.tip7")),1)])])])]),o("div",Z,[l(R,{class:"register-card"},{default:s(()=>[o("h2",x,i(e.$t("login.register")),1),l(E,{ref_key:"formRef",ref:g,model:t.value,rules:V},{default:s(()=>[l(d,{prop:"firstName"},{default:s(()=>[l(n,{modelValue:t.value.firstName,"onUpdate:modelValue":a[0]||(a[0]=r=>t.value.firstName=r),placeholder:e.$t("login.name1"),"prefix-icon":"Message"},null,8,["modelValue","placeholder"])]),_:1}),l(d,{prop:"lastName"},{default:s(()=>[l(n,{modelValue:t.value.lastName,"onUpdate:modelValue":a[1]||(a[1]=r=>t.value.lastName=r),placeholder:e.$t("login.name2"),"prefix-icon":"Message"},null,8,["modelValue","placeholder"])]),_:1}),l(d,{prop:"email"},{default:s(()=>[l(n,{modelValue:t.value.email,"onUpdate:modelValue":a[2]||(a[2]=r=>t.value.email=r),placeholder:e.$t("login.emailTip2"),"prefix-icon":"Message"},null,8,["modelValue","placeholder"])]),_:1}),l(d,{prop:"emailCaptcha"},{default:s(()=>[l(n,{modelValue:t.value.emailCaptcha,"onUpdate:modelValue":a[3]||(a[3]=r=>t.value.emailCaptcha=r),placeholder:e.$t("login.emailCodeTip"),"prefix-icon":"Promotion"},{suffix:s(()=>[l(h,{class:"code-btn",type:"primary",disabled:e.isCaptchaDisabled,onClick:b},{default:s(()=>[m(i(e.$t("login.getEmailCode")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue","placeholder"])]),_:1}),l(d,{prop:"password"},{default:s(()=>[l(n,{modelValue:t.value.password,"onUpdate:modelValue":a[4]||(a[4]=r=>t.value.password=r),type:"password",placeholder:e.$t("login.passwordTip1"),"prefix-icon":"Lock","show-password":""},null,8,["modelValue","placeholder"])]),_:1}),l(d,{class:"agreement"},{default:s(()=>[l(U,{modelValue:t.value.agreement,"onUpdate:modelValue":a[6]||(a[6]=r=>t.value.agreement=r)},{default:s(()=>[m(i(e.$t("login.agree"))+" ",1),l($,{type:"primary",onClick:a[5]||(a[5]=r=>N("user"))},{default:s(()=>[m("《QC elf"+i(e.$t("login.agreement"))+"》",1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(d,null,{default:s(()=>[l(h,{type:"primary",class:"register-button",loading:f.value,onClick:k},{default:s(()=>[m(i(e.$t("login.register")),1)]),_:1},8,["loading"])]),_:1}),o("div",ee,[m(i(e.$t("login.haveAccount")),1),l($,{type:"primary",onClick:a[7]||(a[7]=r=>e.$router.push("/login"))},{default:s(()=>[m(i(e.$t("login.login2")),1)]),_:1})])]),_:1},8,["model"])]),_:1})])])])}}},ne=T(ae,[["__scopeId","data-v-ffcdfa51"]]);export{ne as default};
