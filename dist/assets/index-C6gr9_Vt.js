import{_ as Q,r as c,C as R,I as W,i as X,o as t,w as S,a6 as Y,c as n,d as o,a as w,F as i,f as y,e as _,q as H,t as u,H as L,x as z,K as T}from"./index-CeCSaknX.js";import{b as j}from"./common-BTsuERNO.js";const q={class:"tab-bar"},ee={class:"tab-con"},ae={key:0,class:"country"},le=["onClick"],te={key:0,class:"country"},ne={class:"left"},oe=["onClick"],se=["onClick"],ue={class:"icon-svg"},re={key:1},ce={__name:"index",emits:["countryChange","selectThis"],setup(ie,{expose:A,emit:B}){const f=c(!1),m=c("HOT"),V=[{label:"countryHot",value:"HOT"},{label:"ABC",value:"ABC"},{label:"DEF",value:"DEF"},{label:"GHI",value:"GHI"},{label:"JKL",value:"JKL"},{label:"MNO",value:"MNO"},{label:"PQR",value:"PQR"},{label:"STU",value:"STU"},{label:"VWX",value:"VWX"},{label:"YZ",value:"YZ"}],C=c(!0),d=c(void 0),v=c([]),p=c([]),F=c(""),U=B,h=async e=>{const l="_pdp_area",r=window.localStorage.getItem(l);if(r&&r.indexOf("[")===0){v.value=JSON.parse(r),p.value=[...v.value],K(e),x();return}const{data:s,success:O}=await j({areaLevel:1});O&&s&&s.length&&(v.value=s,p.value=[...v.value],window.localStorage.setItem(l,JSON.stringify(s))),K(e),x()},$=(e,l)=>{if(e){const r=[];return l.forEach(s=>{(s.areaName.indexOf(e)>-1||s.areaEnName.toLowerCase().indexOf(e.toLowerCase())>-1)&&r.push(s)}),r}else return l},D=()=>{C.value=!0,f.value=!0},J=e=>{if(e===""){C.value=!0,d.value=void 0;return}C.value=!1,p.value=$(e,v.value)},N=e=>{d.value=e.id,f.value=!1,F.value=`${e.areaEnName} ${e.areaName}`,U("countryChange",e)},I=[{label:"USA 美国",value:243},{label:"Canada 加拿大",value:42},{label:"Australia 澳大利亚",value:15},{label:"United Kingdom 英国",value:241},{label:"New Zealand 新西兰",value:158},{label:"Japan 日本",value:111},{label:"France 法国",value:78},{label:"Singapore 新加坡",value:200},{label:"Italy 意大利",value:109},{label:"Germany 德国",value:85},{label:"Spain 西班牙",value:210},{label:"South Korea 韩国",value:208},{label:"Sweden 瑞典",value:217},{label:"Netherlands 荷兰",value:155},{label:"Switzerland 瑞士",value:218},{label:"Ireland 爱尔兰",value:107},{label:"Denmark 丹麦",value:64},{label:"Norway 挪威",value:166}],E=c([]),k=R({}),M=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],x=()=>{E.value=I.map(e=>({id:e.value,areaEnName:e.label.split(" ")[0],areaName:e.label.split(" ")[1]})),M.forEach(e=>{k[e]=[]}),v.value.forEach(e=>{Object.keys(k).some(l=>{if(l.indexOf(e.areaEnName.charAt(0))>-1)return k[l].push(e),!0})})},K=e=>{e&&v.value.some(l=>{if(e===l.id)return N(l),!0})};return W(()=>{h()}),A({openPopver:D,countrySearch:J,getAreaCode:h}),(e,l)=>{const r=_("a-tab-pane"),s=_("a-tabs"),O=_("svg-icon"),P=_("a-empty"),G=_("a-popover");return t(),X(G,{visible:f.value,"onUpdate:visible":l[3]||(l[3]=a=>f.value=a),"get-popup-container":a=>a,"mouse-enter-delay":0,class:"country-select-popver",trigger:"click",placement:"bottom"},{content:S(()=>[C.value?(t(),n("div",{key:0,class:"country-box",onClick:l[1]||(l[1]=T(()=>{},["stop"]))},[l[5]||(l[5]=o("div",{class:"desc"},null,-1)),o("div",q,[w(s,{activeKey:m.value,"onUpdate:activeKey":l[0]||(l[0]=a=>m.value=a)},{default:S(()=>[(t(),n(i,null,y(V,a=>w(r,{key:a.value},{tab:S(()=>[o("span",null,[["HOT"].includes(a.value)?(t(),n(i,{key:0},[H(u(e.$t("estimate."+a.label)),1)],64)):(t(),n(i,{key:1},[H(u(a.label),1)],64))])]),_:2},1024)),64))]),_:1},8,["activeKey"])]),o("div",ee,[m.value==="HOT"?(t(),n("div",ae,[l[4]||(l[4]=o("div",{class:"left"},null,-1)),o("ul",null,[(t(!0),n(i,null,y(E.value,a=>(t(),n("li",{key:a.id},[o("span",{class:L({active:a.id===d.value}),onClick:b=>N(a)},u(a.areaEnName)+" "+u(a.areaName),11,le)]))),128))])])):(t(!0),n(i,{key:1},y(k,(a,b)=>(t(),n(i,{key:b},[m.value.indexOf(b)>-1&&a.length?(t(),n("div",te,[o("div",ne,u(b),1),o("ul",null,[(t(!0),n(i,null,y(a,(g,Z)=>(t(),n("li",{key:Z},[o("span",{class:L({active:g.id===d.value}),onClick:ve=>N(g)},u(g.areaEnName)+" "+u(g.areaName),11,oe)]))),128))])])):z("",!0)],64))),128))])])):(t(),n("div",{key:1,class:"count-list",onClick:l[2]||(l[2]=T(()=>{},["stop"]))},[p.value.length?(t(!0),n(i,{key:0},y(p.value,a=>(t(),n("div",{key:a.id,class:L(["selectOptions",a.id===d.value?"active":""]),onClick:b=>N(a)},[o("text",null,u(a.areaEnName)+" "+u(a.areaName),1),o("div",ue,[w(O,{class:"icon",name:"country-active"})])],10,se))),128)):(t(),n("div",re,[w(P,{class:"no-data no-data-empty"})]))]))]),default:S(()=>[Y(e.$slots,"default",{},void 0,!0)]),_:3},8,["visible","get-popup-container"])}}},be=Q(ce,[["__scopeId","data-v-87702aac"]]);export{be as S};
