import{_ as x,r as n,v as b,x as L,d as S,o as T,e as a,f as i,y as $,w as t,i as l,u as B,g as p,E}from"./index-ahdxVkWX.js";import{a as I}from"./auth-DoiOIckG.js";import{u as M}from"./currency-D989Howu.js";import{C as R}from"./CommonHeader-053bkMZM.js";import"./request-BfKQpl6Y.js";const U={class:"login-container"},q={class:"login-content"},z={class:"login-right"},A={class:"form-options"},D={__name:"Login",setup(F){const g=B(),_=M(),d=n(null),u=n(!1),w=n(""),o=n({loginName:"",password:""}),y={loginName:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},v=()=>{const s=new Date;w.value=s.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-")};let c=null;b(()=>{v(),c=setInterval(v,1e3)}),L(()=>{c&&clearInterval(c)});const k=async()=>{d.value&&await d.value.validate(async s=>{if(s){u.value=!0;try{const e=await I.login(o.value);console.log("登录成功:",e),_.setToken(e.data.token),E.success("登录成功"),g.push("/")}catch(e){console.error("登录失败:",e)}finally{u.value=!1}}})};return(s,e)=>{const m=l("el-input"),f=l("el-form-item"),N=l("el-link"),V=l("el-button"),C=l("el-form"),h=l("el-card");return T(),S("div",U,[a(R),i("div",q,[e[7]||(e[7]=$('<div class="login-left" data-v-86a1cf06><div class="slogan" data-v-86a1cf06><div class="slogan-text" data-v-86a1cf06>中国购物，递送全球</div><div class="features" data-v-86a1cf06><div class="feature-item" data-v-86a1cf06><div class="feature-title" data-v-86a1cf06>免费保险</div><div class="feature-desc" data-v-86a1cf06>保证您的资金安全</div></div><div class="feature-item" data-v-86a1cf06><div class="feature-title" data-v-86a1cf06>7*12客服</div><div class="feature-desc" data-v-86a1cf06>全球覆盖</div></div><div class="feature-item" data-v-86a1cf06><div class="feature-title" data-v-86a1cf06>100+航运公司</div><div class="feature-desc" data-v-86a1cf06>可靠的售后服务</div></div></div></div></div>',1)),i("div",z,[a(h,{class:"login-card"},{default:t(()=>[e[6]||(e[6]=i("h2",{class:"login-title"},"登录",-1)),a(C,{ref_key:"formRef",ref:d,model:o.value,rules:y},{default:t(()=>[a(f,{prop:"loginName"},{default:t(()=>[a(m,{modelValue:o.value.loginName,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value.loginName=r),placeholder:"电子邮箱","prefix-icon":"Message"},null,8,["modelValue"])]),_:1}),a(f,{prop:"password"},{default:t(()=>[a(m,{modelValue:o.value.password,"onUpdate:modelValue":e[1]||(e[1]=r=>o.value.password=r),type:"password",placeholder:"密码","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),i("div",A,[i("span",{class:"forgot-password",onClick:e[2]||(e[2]=r=>s.$router.push("/forget"))},"忘记密码?"),a(N,{type:"primary",onClick:e[3]||(e[3]=r=>s.$router.push("/register"))},{default:t(()=>e[4]||(e[4]=[p("注册")])),_:1})]),a(f,null,{default:t(()=>[a(V,{type:"primary",class:"login-button",loading:u.value,onClick:k},{default:t(()=>e[5]||(e[5]=[p(" 登录 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])])])}}},O=x(D,[["__scopeId","data-v-86a1cf06"]]);export{O as default};
