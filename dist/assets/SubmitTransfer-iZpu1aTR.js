import{g as Ee,a as Ue,_ as E,l as Be,c as De,b as Oe}from"./order-D_9XMgLG.js";import{a5 as ue,_ as qe,r as f,G as je,H as j,a6 as Ge,a3 as oe,v as Qe,d,o as n,e as p,w as r,i as $,I as Je,u as ze,f as e,q as s,z as h,n as U,F as T,j as x,a7 as D,M as J,k as b,g as c,a8 as Ye,p as Xe}from"./index-ahdxVkWX.js";import{d as He,f as H,a as K,c as Ke,b as B}from"./tools-PmRw0Q6J.js";import"./request-BfKQpl6Y.js";import"./currency-D989Howu.js";const Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAitJREFUOE91kk+oElEUxs+dGc0/6QwtXJiBJAThJnAhrkyENsJsoild6IigRJsioqiFm6BNm5apoMzGskUrF4WSK6EQSVEIRGyRiAv/IE44Pb037ryn9B6vu7vfPb97vnu+iwAACoXCJYzxW5PJJMfjcZVqZ1c+n79OCHlECHmQyWSOEIV2u10NIfQ5nU4/q1QqlzebjbTZbJyEkK3NZvvJcdy7xWLxGyFUoRcSQiSUy+U+AMBwPB4/93g8rwDgsdPpZAVBoAUwm81gMpmoDMM8NJvNynK5fI8Q+o4URbFSe4qiVARBuOP3+8FgMOgQQkh3rKoqNJtN0DTt6XA4fM3z/AX9pFwu36V2QqEQMAyjF3c6HeB5Htxut77XNA1qtRphWfZGLBbr6mCxWGwFAgGfw+E4zKTdbuugx+M5aIPBAHq9Xi6VSmUQIYQplUpbURTR3hqtpKDVatU7siwLHMfpluv1+i9Zlq+gYrEocBy3iEQipxLodrswGo1063a7HYLBIGy3W6hWq2oymbxIO1L4SBRFdv++83Kk2mq1gkajMZBl+dr+jZ98Pt8tl8v1P0bX+/0+0KnKsvxkP9WbGOMv4XAYjEbjufBJtz8Wi+WqJEnj46AAQFGUF0aj8SXNkU7z3zWdTqHVahGM8e1EIvGRnh3Ak1juEULeCILgoD8HYwzz+RzW6/UPs9l8PxqNNvYXngKpmM1mGa/XG8YYewFgxzDMV0mSvp31/xdmG+/i7VqeFgAAAABJRU5ErkJggg==",et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAY5JREFUOE+lkjFLw0AUx9+7NotCNz+BDg4Kbk6lZNBBEIdCB8EitbkL1H4FBz+ACBXpXTBgXFycBBEcakEHJx0crdA5W5aClXt67QVj0UHMktz97/fun/f+CJknDMOZ4XDYBIB1RJw1EhH1AODScZxWrVaL0+OYfiilykQUAsATYyzSWj8bjTG2oLWuAsASItY45xdmfwRa6Iwx5nueF5m9TqeTj+OYVSqVN7MOgqCqtW4j4paB0dp7IaKm7/sjSCl1CACbRJQHgHMhRMO4tnDLcZw5lFLuf15QEkKUbOWi1vo0SZLFQqFgwF4ul9uo1+v3RpdSdgGga8BHxtiR53knVphHxDXO+UEURdODweAVAMpCiDtbeEdrvYtKqYSIVoQQD9kOSymnAOAKEfuc821j1RZeRsSbX0Gl1B4RFTnnq4g4gr6Bk1YzBwQR9X3fv846CYJgbHWyORmwYW7inB9P/MK4OT+Nw1q6taCbgt/GkQ0AEfnpLE0AjOa67rt5t9vtKiJ+BeBfkUvhv4T8A5iJA0qx+PU4AAAAAElFTkSuQmCC",tt="/assets/gift2-4JVBNppe.png",st="/assets/no-data-2iBr1LMV.png";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const pe=()=>{};function it(G,k){function l(...A){return new Promise((L,C)=>{Promise.resolve(G(()=>k.apply(this,A),{fn:k,thisArg:this,args:A})).then(L).catch(C)})}return l}function at(G,k={}){let l,A,L=pe;const C=q=>{clearTimeout(q),L(),L=pe};let M;return q=>{const R=ue(G),g=ue(k.maxWait);return l&&C(l),R<=0||g!==void 0&&g<=0?(A&&(C(A),A=null),Promise.resolve(q())):new Promise((z,Z)=>{L=k.rejectOnCancel?Z:z,M=q,g&&!A&&(A=setTimeout(()=>{l&&C(l),A=null,z(M())},g)),l=setTimeout(()=>{A&&C(A),A=null,z(q())},R)})}}function lt(G,k=200,l={}){return it(at(k,l),G)}const nt={class:"waybill"},ot={class:"nav"},dt={class:"address"},rt={class:"item-title"},ct={class:"info"},ut={key:0,class:"con"},pt={class:"top"},gt={class:"name"},mt={class:"phone"},vt={class:"code"},ht={class:"bottom"},bt={key:0,class:"tag"},ft={class:"area"},_t={class:"goods"},yt={class:"item-title"},kt={class:"data-table"},$t={class:"header"},Tt={class:"left-info"},At={class:"right-info"},Pt={key:0,class:"content"},St={class:"goods-list"},wt={class:"left-info"},Ct={class:"poster"},It={class:"product-info"},Ft={class:"info"},Vt={class:"product"},Lt={key:0,class:"title"},xt=["title"],Mt={class:"size"},Rt={class:"order-no"},Wt={class:"right-info"},Nt={class:"createTime"},Et={key:0,class:"down-time"},Ut={class:"package"},Bt={class:"item-title"},Dt={class:"package-type"},Ot={class:"top"},qt={style:{display:"flex"}},jt={class:"tag-box"},Gt={class:"tag"},Qt={style:{display:"flex"}},Jt={class:"tag-box"},zt={class:"tag"},Yt={class:"item-title"},Xt={class:"package-type add-service"},Ht={class:"top"},Kt={key:0,class:"tag-box"},Zt={class:"ff-p4 add-service-desc"},es={class:"item-title"},ts={class:"remark"},ss={class:"show-count"},is={class:"line"},as={class:"item-title"},ls={class:"sub-title"},ns={key:0,class:"line-data"},os={class:"con"},ds={class:"poster"},rs={class:"img"},cs=["src"],us={class:"ff-p4 qa-text insurance-desc"},ps={class:"name"},gs={key:0,class:"tax"},ms={class:"time"},vs={class:"col999"},hs={class:"day"},bs={class:"desc col999"},fs={key:0,class:"block-word desc-text"},_s={key:1,class:"desc-text"},ys={class:"action"},ks={key:0,class:"notice"},$s={key:1,class:"cost"},Ts={class:"title"},As={key:0},Ps={class:"priceText"},Ss={class:"keText"},ws={key:1},Cs={class:"priceText"},Is={class:"keText"},Fs={key:2},Vs={class:"priceText"},Ls={key:0,class:"other"},xs={class:"item"},Ms={class:"title"},Rs={class:"desc"},Ws={class:"item"},Ns={class:"title"},Es={class:"item"},Us={class:"title"},Bs={class:"item"},Ds={class:"title"},Os={class:"start-pay"},qs={class:"estimate-tax"},js={class:"value"},Gs={class:"tips"},Qs={class:"title"},Js={class:"text"},zs={key:1,class:"no-line-data"},Ys={class:"text"},Xs={class:"mine-affix"},Hs={class:"submit"},Ks={class:"weight"},Zs={class:"estimate-package-weight"},ei={class:"weight-tip"},ti={class:"right"},si={class:"amount"},ii={class:"sign"},ai={class:"num"},li={key:0},ni={key:1},oi={key:2},di={class:"protocol-text"},ri={key:0,class:"modal-footer"},ci={__name:"SubmitTransfer",setup(G){const k=f(!1),{proxy:l}=je();Je();const A=ze(),L=f([{title:l.$t("submit.order_table_detail"),width:"50%"},{title:l.$t("submit.order_table_num"),width:"15%"},{title:l.$t("submit.product_type"),width:"35%",align:"center"}]),C=f([{title:l.$t("submit.warehouse_createTime"),width:"40%",align:"center"},{title:l.$t("submit.weight"),width:"30%",align:"center"},{title:l.$t("submit.size"),width:"30%",align:"center"}]),M=()=>({style:{height:"50px",padding:"0px","font-size":"12px"}}),O=()=>({style:{"font-size":"12px",padding:"13px 16px",background:"#fdfdfd"}}),q=[{title:l.$t("submit.firstWeightPrice"),dataIndex:"firstWeightPrice",align:"center",width:"16.6%",customCell:M,customHeaderCell:O},{title:l.$t("submit.additionalWeightPrice"),dataIndex:"additionalWeightPrice",align:"center",width:"16.6%",customCell:M,customHeaderCell:O},{title:l.$t("submit.carrierProcessingFee"),dataIndex:"logisticsProviderProcessingFee",align:"center",width:"16.6%",key:"price",customCell:M,customHeaderCell:O},{title:l.$t("submit.fuelCharge"),dataIndex:"fuelCost",align:"center",width:"16.6%",key:"price",customCell:M,customHeaderCell:O},{title:l.$t("submit.operationFee"),dataIndex:"operationFee",align:"center",width:"16.6%",key:"price",customCell:M,customHeaderCell:O},{title:l.$t("submit.servicePrice"),dataIndex:"servicePrice",align:"center",key:"price",width:"16.6%",customCell:M,customHeaderCell:O}],R=j({list:[]}),g=j({type:"1",service:[],remark:""}),z=[{label:l.$t("submit.addService1"),tip:l.$t("submit.addServiceTip1"),value:1},{label:l.$t("submit.addService2"),tip:l.$t("submit.addServiceTip2"),value:2},{label:l.$t("submit.addService3"),tip:l.$t("submit.addServiceTip3"),value:3},{label:l.$t("submit.addService4"),tip:l.$t("submit.addServiceTip4"),value:4},{label:l.$t("submit.addService5"),tip:l.$t("submit.addServiceTip5"),value:5},{label:l.$t("submit.addService6"),tip:l.$t("submit.addServiceTip6"),value:6},{label:l.$t("submit.addService7"),tip:l.$t("submit.addServiceTip7"),value:7},{label:l.$t("submit.addService8"),tip:l.$t("submit.addServiceTip8"),value:8},{label:l.$t("submit.addService9"),tip:l.$t("submit.addServiceTip9"),value:9},{label:l.$t("submit.addService10"),tip:l.$t("submit.addServiceTip10"),value:10},{label:l.$t("submit.addService11"),tip:l.$t("submit.addServiceTip11"),value:11},{label:l.$t("submit.addService12"),tip:l.$t("submit.addServiceTip12"),value:12}],Z=f(200),m=j({id:"",userName:"",phone:"",code:"",default:!1,address:"",countryId:""}),ge=f(!1),ee=f(!1),me=f(!1),ve=f(),se=Ge(),he=()=>{ge.value=!0,ee.value=!1},be=()=>{Y()},fe=()=>{Y()},te=f([]),I=f([{firstWeightPrice:null,additionalWeightPrice:null,servicePrice:null,firstWeight:null,additionalWeight:null,fuelCost:null,logisticsProviderProcessingFee:null,operationFee:null}]),S=f(void 0),ie=f({}),_e=i=>{if(!m.id){l.$message.warning(l.$t("submit.submitOrderTip1"));return}S.value=i.logisticsLineCostId,ie.value=i,o.payType="1",o.payTaxesType=i.includeTaxes,o.declarationValueMin=i.declarationAmountMinLimit?i.declarationAmountMinLimit/100:void 0,o.declarationValueMax=i.declarationAmountMaxLimit?i.declarationAmountMaxLimit/100:void 0,o.declarationValue=void 0,Be({logisticsLineId:i.logisticsLineId,logisticsLineCostId:i.logisticsLineCostId}).then(t=>{I.value[0].firstWeightPrice=t==null?void 0:t.data.firstWeightPrice,I.value[0].firstWeight=t==null?void 0:t.data.firstWeight,I.value[0].additionalWeightPrice=t==null?void 0:t.data.additionalWeightPrice,I.value[0].additionalWeight=t==null?void 0:t.data.additionalWeight,I.value[0].servicePrice=t==null?void 0:t.data.servicePrice,I.value[0].additionalWeight=t==null?void 0:t.data.additionalWeight,I.value[0].fuelCost=t==null?void 0:t.data.fuelCost,I.value[0].logisticsProviderProcessingFee=t==null?void 0:t.data.logisticsProviderProcessingFee,I.value[0].operationFee=t==null?void 0:t.data.operationFee}),Y()},de=()=>{S.value=void 0,ie.value={},o.declarationValue=void 0,I.value=[{firstWeightPrice:null,additionalWeightPrice:null,servicePrice:null,firstWeight:null,additionalWeight:null,fuelCost:null,logisticsProviderProcessingFee:null,operationFee:null}],Object.keys(v).forEach(i=>{v[i]=0}),Object.keys(F).forEach(i=>{F[i]=0})},ye=()=>{de();const i=R.list.map(t=>t.id);Ue({userAddressId:m.id,innerDeliveryIdList:i}).then(t=>{te.value=t.data||[]}).catch(()=>{te.value=[]}).finally(()=>{k.value=!1})},ke=i=>{i.target.value==="1"?Y():(o.declarationValue=void 0,v.taxReportingFeeUsd=0)},$e=oe(()=>o.payType==="2"&&o.declarationValueMin&&o.declarationValueMax?`${o.declarationValueMin}-${o.declarationValueMax}`:""),Te=()=>{re.value=!0},Ae=()=>{o.declarationValue&&(o.declarationValue=Number(o.declarationValue).toFixed(2)),re.value=!1},Pe=i=>{console.log(i);let t=i.target.value.replace(/[^0-9.]/g,"");t=t.replace(/(\..*?)\./g,"$1"),t=t.replace(/(\.\d{2})./g,"$1"),t.startsWith(".")&&(t=`0${t}`),t=t.replace(/^(0+)(\d)/,"$2"),o.declarationValue=t,o.payType==="2"&&o.declarationValue&&Se()},Se=lt(()=>{Number(o.declarationValue)<(o.declarationValueMin||0)&&(o.declarationValue=String(o.declarationValueMin||0)),o.declarationValueMax&&Number(o.declarationValue)>o.declarationValueMax&&(o.declarationValue=String(o.declarationValueMax)),Y(!0)},500);j({}),f(!1),f(),oe(()=>v.estimatedCostPrice);const we=oe(()=>{const i=Number(He(v,"freightDeposit"));return(i<=0?0:i/100).toFixed(2)}),F=j({estimatePackWeight:0,estimatePackageWeight:0,estimatePackageVolumeWeight:0,estimatePackageWeightSum:0}),v=j({estimatedCostPrice:0,freightDeposit:0,addedServicesFeePrice:0,logisticsProviderProcessingFee:0,fuelCost:0,operationFee:0,servicePrice:0,discountReducePrice:0,transportReducePrice:0,estimatedCostPriceTrans:0,freightDepositTrans:0,addedServicesFeePriceTrans:0,logisticsProviderProcessingFeeTrans:0,fuelCostTrans:0,operationFeeTrans:0,servicePriceTrans:0,discountReducePriceTrans:0,transportReducePriceTrans:0,taxReportingFee:0,taxReportingFeeTrans:0,taxReportingFeeUsd:0});f();const o=j({payTaxesType:0,payType:"1",currency:"USD",declarationValueMin:void 0,declarationValue:void 0,insurance:0}),Ce=(i,t)=>{let P=l.$t(i);if(typeof t=="string"||typeof t=="number")return P=P.replace("%d","%s"),P.replace("%s",t);if(t instanceof Array){let u=P;for(const V of t)u=u.replace("%d","%s"),u=u.replace("%s",V);return u}else return P},Y=(i=!1)=>{if(!m.id){i&&l.$message.warning(l.$t("submit.submitOrderTip1"));return}if(!g.type){i&&l.$message.warning(l.$t("submit.packagingMethodTip"));return}if(!S.value){i&&l.$message.warning(l.$t("submit.lineSelectTip"));return}if(o.payType===2&&!o.declarationValue){i&&l.$message.warning(l.$t("submit.declarationValueTip"));return}const t=R.list.map(P=>P.id);k.value=!0,Oe({innerDeliveryIdList:t,userAddressId:m.id,taxReportingMethod:o.payType,taxReportingPrice:o.payType==="2"?(o.declarationValue*100).toFixed(0):void 0,packingMethod:g.type,valueAddedServicesIdList:g.service,logisticsLineCostId:S.value}).then(P=>{const{data:u}=P;Object.keys(v).forEach(V=>{v[V]=u[V]||0}),Object.keys(F).forEach(V=>{F[V]=u[V]||0}),o.declarationValue=K(u.taxReportingCargoValueUsd,!1)}).finally(()=>{k.value=!1})},ae=f(!1),Ie=f(!1),re=f(!1),Fe=()=>{if(!m.id){l.$message.warning(l.$t("submit.submitOrderTip1"));return}if(!g.type){l.$message.warning(l.$t("submit.packagingMethodTip"));return}if(!S.value){l.$message.warning(l.$t("submit.lineSelectTip"));return}if(!o.declarationValue){l.$message.warning(l.$t("submit.declarationValueTip"));return}ae.value=!0;const i=R.list.map(t=>t.id);De({warehouseOrderIdList:i,userAddressId:m.id,remark:g.remark,taxReportingMethod:o.payType,taxReportingPrice:o.payType==="2"?(o.declarationValue*100).toFixed(0):void 0,packingMethod:g.type,valueAddedServicesIdList:g.service,logisticsLineCostId:S.value,packageDeclaredPrice:o.declarationValue,outUserAddressId:void 0}).then(()=>{localStorage.setItem("lastSubmitAddressId",m.id),l.$message.success(l.$t("submit.sumbitSuccess")),A.replace({path:"/mine/package-list"})}).finally(()=>{ae.value=!1})},Ve=f(!0);return Qe(async()=>{try{let t=sessionStorage.getItem("SubOrderIds").split(",");k.value=!0;const{data:P={}}=await Ee(t);R.list=P.subOrders.map((y,le)=>(y.id=y.innerDeliveryId,y.skuDetailList=[{productId:le,headPic:y.imgUrl,productName:y.remark,productNameTrans:y.remark,skuNum:1,logisticsNumber:y.logisticsNumber,packageTypeList:y.packageTypeList,packageTypeListTrans:y.packageTypeListTrans}],y.packageTypeList=y.logisticsNumber||["普货"],y.packageTypeListTrans=y.packageTypeListTrans||["Common Goods"],y));let u=P.userAddressInfo;m.id=u.id,m.countryId=u.countryId,m.code=u.postcode,m.userName=`${u.firstName} ${u.lastName}`,m.phone=u.mobile,m.default=!!u.isDefault;const V=u.countryName?`${u.countryName}/`:"",W=u.provinceName?`${u.provinceName}/`:"",Q=u.cityName?`${u.cityName}/`:"";m.address=V+W+Q+u.address,ye(),k.value=!1}catch(i){console.log(i)}finally{k.value=!1}}),(i,t)=>{const P=$("a-image"),u=$("a-tooltip"),V=$("a-empty"),W=$("a-radio"),Q=$("a-radio-group"),y=$("a-checkbox"),le=$("a-checkbox-group"),Le=$("a-textarea"),ne=$("a-popover"),X=$("el-button"),xe=$("a-table"),Me=$("a-input"),Re=$("a-affix"),ce=$("a-spin"),We=$("a-modal");return n(),d("div",nt,[p(ce,{spinning:k.value},{default:r(()=>[e("div",ot,s(i.$t("submit.subMitYunOrder")),1),e("section",dt,[e("div",rt,s(i.$t("submit.address")),1),e("div",ct,[m.id?(n(),d("div",ut,[e("div",pt,[e("span",gt,s(m.userName),1),e("span",mt,s(m.phone),1),e("span",vt,s(m.code),1)]),e("div",ht,[m.default?(n(),d("span",bt,s(i.$t("submit.default")),1)):h("",!0),e("span",ft,s(m.address),1)])])):h("",!0)])]),e("section",_t,[e("div",yt,s(i.$t("submit.commodity_list")),1),e("div",kt,[e("div",$t,[e("div",Tt,[(n(!0),d(T,null,x(L.value,(a,N)=>(n(),d("div",{key:a.dataIndex,class:J(["column",N!==0?"center":"pdlt"]),style:D({width:a.width})},s(a.title),7))),128))]),e("div",At,[(n(!0),d(T,null,x(C.value,a=>(n(),d("div",{key:a.dataIndex,class:"column center",style:D({width:a.width})},s(a.title),5))),128))])]),R.list.length?(n(),d("div",Pt,[(n(!0),d(T,null,x(R.list,(a,N)=>(n(),d("div",{key:a.id,class:"list"},[e("div",St,[e("div",wt,[(n(!0),d(T,null,x(a.skuDetailList,_=>(n(),d("div",{key:_.productId,class:"item-list"},[e("div",{class:"detail cell",style:D({width:L.value[0].width})},[t[9]||(t[9]=e("div",{class:"checkbox"},null,-1)),e("div",Ct,[p(P,{width:80,height:"auto",src:_.headPic},null,8,["src"])]),e("div",It,[e("div",Ft,[e("div",Vt,[_.logisticsNumber?(n(),d("div",Lt,s(i.$t("submit.orderNo"))+"："+s(_.logisticsNumber),1)):h("",!0),e("div",{class:"title",title:b(H)(_,"productName")},s(b(H)(_,"productName")),9,xt),e("div",Mt,[_.attrs?(n(!0),d(T,{key:0},x(_.attrs,(w,Ne)=>(n(),d("span",{key:Ne},[e("span",null,s(b(H)(w,"attrName"))+":"+s(b(H)(w,"attrValue"))+" ",1)]))),128)):h("",!0)]),e("div",Rt,s(_.subOrderNo),1)])])])],4),e("div",{class:"cell center",style:D({width:L.value[1].width})}," ×"+s(_.skuNum),5),e("div",{class:"cell center type",style:D({width:L.value[2].width})},[_.packageTypeList?(n(!0),d(T,{key:0},x(i.$t("submit.langProp")?_.packageTypeListTrans:_.packageTypeList,w=>(n(),d("span",{key:w,class:"tag"},s(w),1))),128)):(n(!0),d(T,{key:1},x(i.$t("submit.langProp")?a.packageTypeListTrans:a.packageTypeList,w=>(n(),d("span",{key:w,class:"tag"},s(w),1))),128))],4)]))),128))]),e("div",Wt,[e("div",{class:"cell center time",style:D({width:C.value[0].width})},[e("span",Nt,s(a.warehousingTime||"--"),1),a.daysLeft?(n(),d("div",Et,[t[11]||(t[11]=e("img",{src:Ze,alt:""},null,-1)),c(" "+s(a.daysLeft)+s(i.$t("submit.day"))+" ",1),p(u,{placement:"top"},{title:r(()=>[e("span",null,s(i.$t("submit.warehouseSaveTip")),1)]),default:r(()=>[t[10]||(t[10]=e("img",{src:et,alt:""},null,-1))]),_:1})])):h("",!0)],4),e("div",{class:"cell center",style:D({width:C.value[1].width})},s(a.weight),5),e("div",{class:"cell center",style:D({width:C.value[2].width})},[!a.length||!a.width||!a.height?(n(),d(T,{key:0},[],64)):(n(),d(T,{key:1},[c(s(a.length)+"*"+s(a.width)+"*"+s(a.height),1)],64))],4)])])]))),128))])):(n(),U(V,{key:1,image:b(Ye).PRESENTED_IMAGE_SIMPLE},null,8,["image"]))])]),e("section",Ut,[e("div",Bt,s(i.$t("submit.packagingMethod")),1),e("div",Dt,[e("div",Ot,[p(Q,{value:g.type,"onUpdate:value":t[0]||(t[0]=a=>g.type=a),onChange:be},{default:r(()=>[p(W,{class:"radio",value:"1"},{default:r(()=>[e("div",qt,[c(s(i.$t("submit.packagingMethod1"))+" ",1),p(u,{placement:"top"},{title:r(()=>[e("span",null,s(i.$t("submit.paidServicesTip")),1)]),default:r(()=>[e("div",jt,[t[12]||(t[12]=e("img",{src:E,alt:""},null,-1)),t[13]||(t[13]=c(" ")),e("span",Gt,s(i.$t("submit.freeServices")),1)])]),_:1})])]),_:1}),p(W,{value:"2"},{default:r(()=>[e("div",Qt,[c(s(i.$t("submit.packagingMethod2"))+" ",1),p(u,{placement:"top"},{title:r(()=>[e("span",null,s(i.$t("submit.freeServicesTip")),1)]),default:r(()=>[e("div",Jt,[t[14]||(t[14]=e("img",{src:E,alt:""},null,-1)),t[15]||(t[15]=c(" ")),e("span",zt,s(i.$t("submit.freeServices")),1)])]),_:1})])]),_:1})]),_:1},8,["value"])])]),e("div",Yt,s(i.$t("submit.addedService")),1),e("div",Xt,[e("div",Ht,[p(le,{value:g.service,"onUpdate:value":t[1]||(t[1]=a=>g.service=a),onChange:fe},{default:r(()=>[(n(),d(T,null,x(z,a=>p(y,{key:a.value,class:"checkbox",value:a.value},{default:r(()=>[e("div",{class:J([i.$t("submit.langProp")?"add-service-box-en":"add-service-box"])},[a.value===13?(n(),d("div",Kt,t[16]||(t[16]=[e("img",{src:tt,height:"20",alt:""},null,-1),c("  ")]))):h("",!0),c(" "+s(a.label)+" ",1),p(u,{placement:"top"},{title:r(()=>[e("pre",Zt,s(a.tip),1)]),default:r(()=>[t[17]||(t[17]=e("div",{class:"tag-box"},[e("img",{src:E,alt:""})],-1))]),_:2},1024)],2)]),_:2},1032,["value"])),64))]),_:1},8,["value"])])]),e("div",es,s(i.$t("submit.remark")),1),e("div",ts,[p(Le,{value:g.remark,"onUpdate:value":t[2]||(t[2]=a=>g.remark=a),bordered:!1,rows:4,placeholder:i.$t("submit.warehouse_submit_tip"),maxlength:Z.value},null,8,["value","placeholder","maxlength"]),e("div",ss,s(g.remark.length)+"/"+s(Z.value),1)])]),e("section",is,[e("div",as,[c(s(i.$t("submit.sendLine")),1),e("span",ls,"（"+s(i.$t("submit.noInsuranceTip"))+"）",1)]),te.value.length?(n(),d("div",ns,[(n(!0),d(T,null,x(te.value,a=>(n(),d(T,{key:a.logisticsLineCostId},[S.value===a.logisticsLineCostId||S.value===void 0?(n(),d("div",{key:0,class:J(["list",S.value===a.logisticsLineCostId?"active":"",a.disabled?"disabled":""])},[e("div",os,[e("div",ds,[e("div",rs,[e("img",{class:"icon",src:a.logisticsLineIcon,alt:""},null,8,cs),p(ne,{trigger:"click",placement:"right"},{content:r(()=>[e("pre",us,s(a.insuranceDesc),1)]),_:2},1024)]),e("div",ps,s(b(H)(a,"logisticsLineName","en")),1),a.includeTaxes?(n(),d("div",gs,s(i.$t("submit.taxExemption")),1)):h("",!0)]),e("div",ms,[e("span",vs,s(i.$t("submit.ShippingTime")),1),e("div",null,[c(s(a.logisticsTimeMin)+"-"+s(a.logisticsTimeMax)+" ",1),e("span",hs,s(i.$t("submit.day")),1)])]),e("div",bs,[S.value===a.logisticsLineCostId?(n(),d("pre",fs,s(a.logisticsLineDesc)+`
                      `,1)):(n(),d("div",_s,s(a.logisticsLineDesc),1))]),e("div",ys,[S.value!==a.logisticsLineCostId?(n(),U(X,{key:0,type:"primary",class:J(["btn",a.checkFlag?"":"disabled"]),disabled:!a.checkFlag,onClick:N=>_e(a)},{default:r(()=>[c(s(i.$t("submit.select")),1)]),_:2},1032,["class","disabled","onClick"])):(n(),U(X,{key:1,type:"primary",ghost:"",class:"edit-btn",onClick:de},{default:r(()=>[c(s(i.$t("submit.changeLine")),1)]),_:1}))])]),!a.checkFlag&&a.uncheckDesc?(n(),d("ul",ks,[(n(!0),d(T,null,x(a.uncheckDesc,(N,_)=>(n(),d("li",{key:_},s(N),1))),128))])):h("",!0),S.value?(n(),d("div",$s,[e("div",Ts,s(i.$t("submit.estTip15"))+"：",1),p(xe,{"data-source":I.value,bordered:"",columns:q,pagination:!1},{bodyCell:r(({column:N,record:_,text:w})=>[N.dataIndex==="firstWeightPrice"?(n(),d("div",As,[e("span",Ps,"¥ "+s(b(K)(w,!1)),1),e("span",Ss,"/"+s(_.firstWeight)+" g",1)])):N.dataIndex==="additionalWeightPrice"?(n(),d("div",ws,[e("span",Cs,"¥ "+s(b(K)(w,!1)),1),e("span",Is,"/"+s(_.additionalWeight)+" g",1)])):N.key==="price"?(n(),d("div",Fs,[e("span",Vs,[w!==null?(n(),d(T,{key:0},[c("¥ "+s(b(K)(w,!1)),1)],64)):(n(),d(T,{key:1},[c("-")],64))])])):h("",!0)]),_:1},8,["data-source"])])):h("",!0)],2)):h("",!0)],64))),128)),S.value!==void 0?(n(),d("div",Ls,[e("div",xs,[e("div",Ms,s(i.$t("submit.taxPaymentMethod")),1),p(Q,{value:o.payTaxesType,"onUpdate:value":t[3]||(t[3]=a=>o.payTaxesType=a)},{default:r(()=>[o.payTaxesType===0?(n(),U(W,{key:0,class:"radio",value:0},{default:r(()=>[c(s(i.$t("submit.recipientPays1")),1)]),_:1})):h("",!0),o.payTaxesType===1?(n(),U(W,{key:1,class:"radio",value:1},{default:r(()=>[c(s(i.$t("submit.recipientPays2")),1)]),_:1})):h("",!0)]),_:1},8,["value"]),e("div",Rs,s(i.$t("submit.recipientPaysTip")),1)]),e("div",Ws,[e("div",Ns,s(i.$t("submit.declarationMethod")),1),p(Q,{value:o.payType,"onUpdate:value":t[4]||(t[4]=a=>o.payType=a),onChange:ke},{default:r(()=>[p(W,{class:"radio",value:"1"},{default:r(()=>[c(s(i.$t("submit.declarationMethod1"))+" ",1),o.payTaxesType===0?(n(),U(u,{key:0,placement:"top"},{title:r(()=>[e("span",null,s(Ce("submit.declarationMethod1Tip",ie.value.cargoValueRatio+"%")),1)]),default:r(()=>[t[18]||(t[18]=e("img",{src:E,alt:""},null,-1))]),_:1})):h("",!0)]),_:1}),p(W,{value:"2"},{default:r(()=>[c(s(i.$t("submit.declarationMethod2")),1)]),_:1})]),_:1},8,["value"])]),e("div",Es,[e("div",Us,s(i.$t("submit.declarationCurrency")),1),p(Q,{value:o.currency,"onUpdate:value":t[5]||(t[5]=a=>o.currency=a)},{default:r(()=>[p(W,{class:"radio",value:"USD"},{default:r(()=>t[19]||(t[19]=[c("USD")])),_:1})]),_:1},8,["value"])]),e("div",Bs,[e("div",Ds,s(i.$t("submit.declarationValue"))+"(USD)",1),e("div",Os,[p(Me,{value:o.declarationValue,"onUpdate:value":t[6]||(t[6]=a=>o.declarationValue=a),class:"tax-input",placeholder:$e.value,disabled:o.payType==="1",onChange:Pe,onFocus:Te,onBlur:Ae},null,8,["value","placeholder","disabled"]),e("span",qs,[c(s(i.$t("submit.estimatTaxesFee"))+"(USD)",1),e("span",js,s(b(K)(v.taxReportingFeeUsd,!1)),1)])])]),e("div",Gs,[e("div",Qs,s(i.$t("submit.disclaimerReminder")),1),e("div",Js,[e("pre",null,s(i.$t("submit.waybill_logistics_tips")),1)])])])):h("",!0)])):(n(),d("div",zs,[t[20]||(t[20]=e("img",{src:st,alt:""},null,-1)),e("div",Ys,s(i.$t("submit.noLineData")),1)]))]),p(Re,{"offset-bottom":0},{default:r(()=>[e("div",Xs,[e("div",Hs,[e("div",Ks,[c(s(i.$t("submit.pre_package_weight"))+"  ",1),Ve.value&&g.type==="1"?(n(),U(ne,{key:0,"get-popup-container":a=>a.parentElement,placement:"top","overlay-class-name":"estimate-package-weight-wrapper",trigger:"hover"},{content:r(()=>[e("div",Zs,[e("p",{class:J(["package-weight",F.estimatePackageWeightSum<F.estimatePackageVolumeWeight?"line-through":""])},[c(s(i.$t("submit.package_weight"))+"：",1),e("text",null,s(F.estimatePackageWeightSum)+"g",1)],2),e("p",{class:J(["package-volume-weight",F.estimatePackageWeightSum>=F.estimatePackageVolumeWeight?"line-through":""])},[c(s(i.$t("submit.package_weight3"))+" ：",1),e("text",null,s(F.estimatePackageVolumeWeight)+"g",1)],2),e("p",ei,s(i.$t("submit.package_weight3Tip")),1)])]),default:r(()=>[t[21]||(t[21]=e("img",{src:E,alt:""},null,-1))]),_:1},8,["get-popup-container"])):h("",!0),t[22]||(t[22]=c("  ")),e("span",null,s(F.estimatePackageWeight)+"g",1)]),e("div",ti,[e("div",si,[e("span",ii,s(b(Ke)()),1),e("span",ai,s(we.value),1),t[23]||(t[23]=c("  "))]),p(ne,{"get-popup-container":a=>a.parentElement,placement:"top"},{content:r(()=>[e("p",null,s(i.$t("submit.estimateFreight"))+"："+s(b(B)(v,"estimatedCostPrice")),1),e("p",null,s(i.$t("submit.addedServiceCharge"))+"："+s(b(B)(v,"addedServicesFeePrice")),1),e("p",null,s(i.$t("submit.carrierProcessingFee"))+"："+s(b(B)(v,"logisticsProviderProcessingFee")),1),e("p",null,s(i.$t("submit.operationFee"))+"："+s(b(B)(v,"operationFee")),1),e("p",null,s(i.$t("submit.fuelCharge"))+"："+s(b(B)(v,"fuelCost")),1),e("p",null,s(i.$t("submit.service_charge"))+"："+s(b(B)(v,"servicePrice")),1),v.discountReducePrice?(n(),d("p",li,[c(s(i.$t("submit.memberDiscount")),1),p(u,null,{title:r(()=>[c(s(i.$t("submit.memberDiscountAmountTip")),1)]),default:r(()=>[t[24]||(t[24]=e("img",{src:E,alt:""},null,-1))]),_:1}),c("：-"+s(b(B)(v,"discountReducePrice")),1)])):h("",!0),v.transportReducePrice?(n(),d("p",ni,[c(s(i.$t("submit.exclusiveDiscount")),1),p(u,null,{title:r(()=>[c(s(i.$t("submit.exclusiveDiscountAmountTip")),1)]),default:r(()=>[t[25]||(t[25]=e("img",{src:E,alt:""},null,-1))]),_:1}),c("：-"+s(b(B)(v,"transportReducePrice")),1)])):h("",!0),v.taxReportingFee?(n(),d("p",oi,[c(s(i.$t("submit.estimatTaxesFee")),1),p(u,null,{title:r(()=>[c(s(i.$t("submit.estimatTaxesFeeAmountTip")),1)]),default:r(()=>[t[26]||(t[26]=e("img",{src:E,alt:""},null,-1))]),_:1}),c("："+s(b(B)(v,"taxReportingFee")),1)])):h("",!0)]),default:r(()=>[t[27]||(t[27]=e("img",{src:E,alt:""},null,-1))]),_:1},8,["get-popup-container"]),p(X,{class:"btn",type:"primary",disabled:Ie.value,loading:ae.value,onClick:Fe},{default:r(()=>[c(s(i.$t("submit.submit_package")),1)]),_:1},8,["disabled","loading"])])])])]),_:1})]),_:1},8,["spinning"]),p(We,{visible:ee.value,"onUpdate:visible":t[8]||(t[8]=a=>ee.value=a),width:"60%","destroy-on-close":!0,footer:null,"mask-closable":!0,centered:"",title:""},{default:r(()=>[e("div",di,[se.value?(n(),U(Xe(se.value),{key:0})):(n(),U(ce,{key:1,spinning:me.value},{default:r(()=>[e("div",{ref_key:"artBoxRef",ref:ve,class:"artBox"},null,512)]),_:1},8,["spinning"]))]),se.value?h("",!0):(n(),d("div",ri,[p(X,{key:"back",onClick:t[7]||(t[7]=a=>ee.value=!1)},{default:r(()=>[c(s(i.$t("submit.global_cancel")),1)]),_:1}),p(X,{key:"submit",type:"primary",onClick:he},{default:r(()=>[c(s(i.$t("submit.gloabl_confirm")),1)]),_:1})]))]),_:1},8,["visible"])])}}},hi=qe(ci,[["__scopeId","data-v-50e2e79b"]]);export{hi as default};
